enum Role {
    SUPER_ADMIN
    ADMIN
    USER
}

model User {
    id              String            @id @default(uuid())
    name            String
    email           String            @unique
    password        String
    resetKey        String?           @map("reset_key")
    resetKeyExpired DateTime?         @unique @map("reset_key_expired")
    role            Role              @default(USER)
    tasks           Task[]
    personalInfo    UserPersonalInfo?
    createdAt       DateTime          @default(now()) @map("created_at")
    updatedAt       DateTime          @updatedAt @map("updated_at")
    isDeleted       Boolean           @default(false) @map("is_deleted")

    @@map("User")
}

model UserPersonalInfo {
    id          String   @id @default(uuid())
    userId      String   @unique @map("user_id")
    firstName   String?  @map("first_name")
    lastName    String?  @map("last_name")
    phoneNumber String?  @map("phone_number")
    address     String?
    user        User     @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    createdAt   DateTime @default(now()) @map("created_at")
    updatedAt   DateTime @updatedAt @map("updated_at")
    isDeleted   Boolean  @default(false) @map("is_deleted")

    @@map("UserPersonalInfo")
}
